<!DOCTYPE HTML>
<html lang="vi" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>use crate - Rust Tiếng Việt</title>


        <!-- Custom HTML head -->
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-88RKF7DLPY"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
        
          gtag('config', 'G-88RKF7DLPY');
        </script>
        
        <!-- pageview.js -->
        <script>
          !function(e,n,t){e.onload=function(){
          let e=n.createElement("script");
          e.src=t,n.body.appendChild(e)}}
          (window,document,"https://pageview.duyet.net/pageview.js");
        </script>
        
        <script async src="https://cdn.seline.so/seline.js" data-token="d7c8002f8e40139"></script>

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../../favicon.svg">
        <link rel="shortcut icon" href="../../../favicon.png">
        <link rel="stylesheet" href="../../../css/variables.css">
        <link rel="stylesheet" href="../../../css/general.css">
        <link rel="stylesheet" href="../../../css/chrome.css">
        <link rel="stylesheet" href="../../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../../highlight.css">
        <link rel="stylesheet" href="../../../tomorrow-night.css">
        <link rel="stylesheet" href="../../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Rust Tiếng Việt</h1>

                    <div class="right-buttons">
                        <a href="../../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/rust-tieng-viet/rust-tieng-viet.github.io" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/rust-tieng-viet/rust-tieng-viet.github.io/edit/main/src/basic/package-crate/use-crate/README.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="use-crate"><a class="header" href="#use-crate">use crate</a></h1>
<p>Để sử dụng (import) một crate từ <a href="https://crates.io">https://crates.io</a>, ví dụ <a href="https://crates.io/crates/log">https://crates.io/crates/log</a>.</p>
<h3 id="1-thêm-crate-vào-cargotoml"><a class="header" href="#1-thêm-crate-vào-cargotoml">1. Thêm crate vào <code>Cargo.toml</code></a></h3>
<p>Có 2 cách</p>
<p><strong>Cách 1:</strong> Edit trực tiếp file <code>Cargo.toml</code></p>
<pre><code class="language-toml">[dependencies]
log = "0.4"
</code></pre>
<p><strong>Cách 2:</strong> Sử dụng <code>cargo add</code>, cargo sẽ tự động update file <code>Cargo.toml</code> cho bạn</p>
<pre><code class="language-bash">cargo add log
</code></pre>
<pre><code class="language-toml">[dependencies]
log = "0.4.17"
</code></pre>
<p>Để thêm crate vào dev dependencies (dùng cho tests), ta thêm <code>--dev</code> vào lệnh:</p>
<pre><code class="language-bash">cargo add --dev log
</code></pre>
<pre><code class="language-toml">[dev-dependencies]
log = "0.4.17"
</code></pre>
<h3 id="2-sử-dụng-crate-trong-code"><a class="header" href="#2-sử-dụng-crate-trong-code">2. Sử dụng crate trong code</a></h3>
<pre><pre class="playground"><code class="language-rust no_run edition2021">fn main() {
    log::info!("hello");
    log::error!("oops");
}</code></pre></pre>
<p>Sử dụng keyword <code>use</code>. Chức năng chính của <code>use</code> là bind lại full path
của element vào một tên mới, để chúng ta không cần phải lặp lại một tên dài mỗi lần sử dụng.</p>
<pre><pre class="playground"><code class="language-rust no_run edition2021">use log::info;
use log::error;

fn main() {
    info!("hello");
    error!("oops");
}</code></pre></pre>
<p>Nhóm các import lại với nhau:</p>
<pre><pre class="playground"><code class="language-rust no_run edition2021">use log::{info, error};

fn main() {
    info!("hello");
    error!("oops");
}</code></pre></pre>
<p>Import mọi thứ được public trong crate/module. Cách này thường hay tránh bởi
sẽ khó biết được function, struct, ... nào đó đang thuộc crate nào, ngoại trừ các <code>prelude::*</code>.</p>
<pre><pre class="playground"><code class="language-rust no_run edition2021">use log::*;

fn main() {
    info!("hello");
    error!("oops");
}</code></pre></pre>
<h3 id="use-trong-scope"><a class="header" href="#use-trong-scope"><code>use</code> trong scope</a></h3>
<p><code>use</code> cũng thường được sử dụng import element vào trong scope hiện tại.</p>
<pre><pre class="playground"><code class="language-rust no_run edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn hello() -&gt; String {
  "Hello, world!".to_string()
}

#[cfg(test)]
mod tests {
  use super::hello; // Import the `hello()` function into the scope
    
  #[test]
  fn test_hello() {
    assert_eq!("Hello, world!", hello()); // If not using the above `use` statement, we can run same via `super::hello()`
  }
}
<span class="boring">}</span></code></pre></pre>
<p>Bạn sẽ sẽ hay gặp:</p>
<pre><pre class="playground"><code class="language-rust no_run edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// ...

#[cfg(test)]
mod tests {
  use super::*;
  use log::info;
    
  // ...
}
<span class="boring">}</span></code></pre></pre>
<h3 id="self-super"><a class="header" href="#self-super"><code>self::</code>, <code>super::</code></a></h3>
<p>Mặc định thì <code>use</code> sẽ import đường dẫn tuyệt đối, bắt đầu từ crate root.
<code>self</code> và <code>super</code> thường dùng để import mod theo vị trí tương đối.</p>
<pre><pre class="playground"><code class="language-rust no_run edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// src/level_1/level_2/mod.rs

use self::hello_1;
use super::super::level3::hello_2;
<span class="boring">}</span></code></pre></pre>
<h3 id="re-export"><a class="header" href="#re-export">Re-export</a></h3>
<p>Một trường hợp đặt biệt là sử dụng <code>pub use</code> là re-exporting,
khi bạn thiết kế một module bạn có thể export một số thứ từ module khác (*) từ module của bạn.
Do đó người sử dụng có thể sử dụng các module khác đó ngay từ module của bạn.</p>
<p>Module khác (*) đó có thể là một internal module, internal crate hoặc external crate.</p>
<pre><pre class="playground"><code class="language-rust compile_fail no_run edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// src/utils.rs
pub use log::*;

<span class="boring">}</span></code></pre></pre>
<pre><pre class="playground"><code class="language-rust compile_fail no_run edition2021">// src/main.rs
use crate::utils::info;

fn main() {
    info!("...");
}</code></pre></pre>
<p>Pattern này được sử dụng khá nhiều ở các thư viện lớn.
Nó giúp ẩn đi các internal module phức tạp của library đối với user.
Bởi vì user sẽ không cần quan tâm đến cấu trúc directory phức tạp khi sử dụng một library nào đó.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../../basic/package-crate/crate.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../../basic/package-crate/use-crate/self-super.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../../basic/package-crate/crate.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../../basic/package-crate/use-crate/self-super.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>

        <script src="../../../ace.js"></script>
        <script src="../../../editor.js"></script>
        <script src="../../../mode-rust.js"></script>
        <script src="../../../theme-dawn.js"></script>
        <script src="../../../theme-tomorrow_night.js"></script>

        <script src="../../../elasticlunr.min.js"></script>
        <script src="../../../mark.min.js"></script>
        <script src="../../../searcher.js"></script>

        <script src="../../../clipboard.min.js"></script>
        <script src="../../../highlight.js"></script>
        <script src="../../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
