<!DOCTYPE HTML>
<html lang="vi" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Matching Named Variables - Rust Tiếng Việt</title>


        <!-- Custom HTML head -->
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-88RKF7DLPY"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
        
          gtag('config', 'G-88RKF7DLPY');
        </script>
        
        <!-- pageview.js -->
        <script>
          !function(e,n,t){e.onload=function(){
          let e=n.createElement("script");
          e.src=t,n.body.appendChild(e)}}
          (window,document,"https://pageview.duyet.net/pageview.js");
        </script>
        
        <script async src="https://seline.duyet.workers.dev/seline.js" data-api-host="https://seline.duyet.workers.dev" data-token="d7c8002f8e40139"></script>
        <script async src="https://cm43xj8zd00093b619ak2zfuc.d.jitsu.com/p.js"></script>

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Rust Tiếng Việt</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/rust-tieng-viet/rust-tieng-viet.github.io" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/rust-tieng-viet/rust-tieng-viet.github.io/edit/main/src/basic/match/named-vars.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="matching-named-variables"><a class="header" href="#matching-named-variables">Matching Named Variables</a></h1>
<p>Named variables trong pattern matching cho phép bạn bind (gán) giá trị vào một biến mới trong match arm. Đây là một tính năng mạnh mẽ giúp bạn trích xuất và sử dụng giá trị từ các kiểu dữ liệu phức tạp.</p>
<h2 id="cơ-bản-về-named-variables"><a class="header" href="#cơ-bản-về-named-variables">Cơ bản về Named Variables</a></h2>
<p>Khi bạn sử dụng một tên biến trong pattern, Rust sẽ tạo một biến mới và gán giá trị match được vào biến đó:</p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let x = 5;

    match x {
        value =&gt; println!("Giá trị là: {}", value),
    }
    // In ra: Giá trị là: 5
}</code></pre></pre>
<p>Ở ví dụ trên, <code>value</code> là một named variable, nó sẽ match với bất kỳ giá trị nào và bind giá trị đó vào biến <code>value</code>.</p>
<h2 id="shadowing-trong-match"><a class="header" href="#shadowing-trong-match">Shadowing trong Match</a></h2>
<p>Một điểm cần lưu ý là named variable trong match có thể shadow (che khuất) biến bên ngoài:</p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let x = Some(5);
    let y = 10;

    match x {
        Some(50) =&gt; println!("Bằng 50"),
        Some(y) =&gt; println!("Matched, y = {}", y),  // y ở đây là biến mới!
        _ =&gt; println!("Default case, x = {:?}", x),
    }

    println!("Kết thúc: x = {:?}, y = {}", x, y);
}</code></pre></pre>
<p>Output:</p>
<pre><code>Matched, y = 5
Kết thúc: x = Some(5), y = 10
</code></pre>
<p>Lưu ý rằng <code>y</code> trong pattern <code>Some(y)</code> là một biến mới, <strong>không phải</strong> là biến <code>y = 10</code> ở ngoài. Biến <code>y</code> trong match arm có giá trị là <code>5</code> (được extract từ <code>Some(5)</code>), còn biến <code>y</code> bên ngoài vẫn giữ nguyên giá trị <code>10</code>.</p>
<h2 id="match-với-struct"><a class="header" href="#match-với-struct">Match với Struct</a></h2>
<p>Named variables rất hữu ích khi destructure struct:</p>
<pre><pre class="playground"><code class="language-rust edition2021">struct Point {
    x: i32,
    y: i32,
}

fn main() {
    let point = Point { x: 0, y: 7 };

    match point {
        Point { x, y: 0 } =&gt; println!("Trên trục x tại x = {}", x),
        Point { x: 0, y } =&gt; println!("Trên trục y tại y = {}", y),
        Point { x, y } =&gt; println!("Tại ({}, {})", x, y),
    }
    // In ra: Trên trục y tại y = 7
}</code></pre></pre>
<p>Bạn có thể đặt tên khác cho biến:</p>
<pre><pre class="playground"><code class="language-rust edition2021">struct Point {
    x: i32,
    y: i32,
}

fn main() {
    let point = Point { x: 5, y: 10 };

    match point {
        Point { x: horizontal, y: vertical } =&gt; {
            println!("Tọa độ ngang: {}, tọa độ dọc: {}", horizontal, vertical);
        }
    }
    // In ra: Tọa độ ngang: 5, tọa độ dọc: 10
}</code></pre></pre>
<h2 id="match-với-enum"><a class="header" href="#match-với-enum">Match với Enum</a></h2>
<p>Named variables cho phép extract giá trị từ enum variants:</p>
<pre><pre class="playground"><code class="language-rust edition2021">enum Message {
    Quit,
    Move { x: i32, y: i32 },
    Write(String),
    ChangeColor(i32, i32, i32),
}

fn process_message(msg: Message) {
    match msg {
        Message::Quit =&gt; println!("Thoát"),
        Message::Move { x, y } =&gt; println!("Di chuyển đến ({}, {})", x, y),
        Message::Write(text) =&gt; println!("Văn bản: {}", text),
        Message::ChangeColor(r, g, b) =&gt; println!("Đổi màu RGB({}, {}, {})", r, g, b),
    }
}

fn main() {
    let msg1 = Message::Move { x: 10, y: 20 };
    let msg2 = Message::Write(String::from("Hello"));
    let msg3 = Message::ChangeColor(255, 0, 0);

    process_message(msg1);  // In ra: Di chuyển đến (10, 20)
    process_message(msg2);  // In ra: Văn bản: Hello
    process_message(msg3);  // In ra: Đổi màu RGB(255, 0, 0)
}</code></pre></pre>
<h2 id="match-với-tuple"><a class="header" href="#match-với-tuple">Match với Tuple</a></h2>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let tuple = (1, 2, 3);

    match tuple {
        (0, y, z) =&gt; println!("Phần tử đầu là 0, y = {}, z = {}", y, z),
        (x, 0, z) =&gt; println!("Phần tử giữa là 0, x = {}, z = {}", x, z),
        (x, y, 0) =&gt; println!("Phần tử cuối là 0, x = {}, y = {}", x, y),
        (x, y, z) =&gt; println!("x = {}, y = {}, z = {}", x, y, z),
    }
    // In ra: x = 1, y = 2, z = 3
}</code></pre></pre>
<h2 id="sử-dụng--binding"><a class="header" href="#sử-dụng--binding">Sử dụng <code>@</code> binding</a></h2>
<p><code>@</code> operator cho phép bạn vừa test một giá trị với pattern, vừa bind giá trị đó vào một biến:</p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let age = 25;

    match age {
        n @ 0..=12 =&gt; println!("Trẻ em, tuổi: {}", n),
        n @ 13..=19 =&gt; println!("Thiếu niên, tuổi: {}", n),
        n @ 20..=64 =&gt; println!("Người trưởng thành, tuổi: {}", n),
        n @ 65.. =&gt; println!("Người cao tuổi, tuổi: {}", n),
    }
    // In ra: Người trưởng thành, tuổi: 25
}</code></pre></pre>
<p>Không có <code>@</code>, bạn sẽ không có biến để sử dụng:</p>
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>match age {
    0..=12 =&gt; println!("Trẻ em"),  // không biết tuổi cụ thể
    // ...
}
<span class="boring">}</span></code></pre></pre>
<h2 id="-với-enum"><a class="header" href="#-với-enum"><code>@</code> với enum</a></h2>
<p><code>@</code> binding rất hữu ích khi làm việc với enum:</p>
<pre><pre class="playground"><code class="language-rust edition2021">enum Message {
    Hello { id: i32 },
}

fn main() {
    let msg = Message::Hello { id: 5 };

    match msg {
        Message::Hello { id: id_var @ 3..=7 } =&gt; {
            println!("ID trong khoảng 3-7: {}", id_var);
        }
        Message::Hello { id: 10..=12 } =&gt; {
            println!("ID trong khoảng 10-12");
        }
        Message::Hello { id } =&gt; {
            println!("ID khác: {}", id);
        }
    }
    // In ra: ID trong khoảng 3-7: 5
}</code></pre></pre>
<h2 id="phân-biệt-với-_"><a class="header" href="#phân-biệt-với-_">Phân biệt với <code>_</code></a></h2>
<p>Named variable sẽ match và bind giá trị, trong khi <code>_</code> chỉ match mà không bind:</p>
<pre><pre class="playground"><code class="language-rust edition2021">fn main() {
    let x = 5;

    match x {
        value =&gt; println!("Có giá trị: {}", value),  // OK, có thể dùng value
    }

    match x {
        _ =&gt; println!("Có giá trị: {}", x),  // Dùng x từ outer scope
    }
}</code></pre></pre>
<p>Sử dụng <code>_</code> khi bạn không quan tâm đến giá trị:</p>
<pre><pre class="playground"><code class="language-rust edition2021">struct Point {
    x: i32,
    y: i32,
    z: i32,
}

fn main() {
    let point = Point { x: 0, y: 0, z: 8 };

    match point {
        Point { x: 0, y: 0, z } =&gt; println!("Trên trục z tại z = {}", z),
        Point { x: 0, y, z: _ } =&gt; println!("Trên mặt phẳng yz, y = {}", y),
        Point { x, y: _, z: _ } =&gt; println!("x = {}, không quan tâm y và z", x),
        _ =&gt; println!("Điểm khác"),
    }
}</code></pre></pre>
<h2 id="ví-dụ-thực-tế-parse-kết-quả"><a class="header" href="#ví-dụ-thực-tế-parse-kết-quả">Ví dụ thực tế: Parse kết quả</a></h2>
<pre><pre class="playground"><code class="language-rust edition2021">fn parse_config(input: &amp;str) -&gt; Result&lt;(String, u16), String&gt; {
    let parts: Vec&lt;&amp;str&gt; = input.split(':').collect();

    match parts.as_slice() {
        [host, port] =&gt; {
            match port.parse::&lt;u16&gt;() {
                Ok(port_num) =&gt; Ok((host.to_string(), port_num)),
                Err(_) =&gt; Err("Port không hợp lệ".to_string()),
            }
        }
        _ =&gt; Err("Format không đúng".to_string()),
    }
}

fn main() {
    match parse_config("localhost:8080") {
        Ok((host, port)) =&gt; println!("Server: {} trên port {}", host, port),
        Err(e) =&gt; println!("Lỗi: {}", e),
    }
    // In ra: Server: localhost trên port 8080
}</code></pre></pre>
<h2 id="references"><a class="header" href="#references">References</a></h2>
<ul>
<li><a href="https://doc.rust-lang.org/book/ch18-03-pattern-syntax.html#destructuring-to-break-apart-values">Destructuring to Break Apart Values</a></li>
<li><a href="https://doc.rust-lang.org/book/ch18-03-pattern-syntax.html#-bindings">@ Bindings</a></li>
<li><a href="https://doc.rust-lang.org/book/ch18-00-patterns.html">Patterns and Matching</a></li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../basic/match/literals.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../basic/match/multiple.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../basic/match/literals.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../basic/match/multiple.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>

        <script src="../../ace.js"></script>
        <script src="../../mode-rust.js"></script>
        <script src="../../editor.js"></script>
        <script src="../../theme-dawn.js"></script>
        <script src="../../theme-tomorrow_night.js"></script>

        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
